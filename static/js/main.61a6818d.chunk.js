(this.webpackJsonpbar=this.webpackJsonpbar||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return x}));var a=n(18),c=n(2),r="SET_FILES",i="SET_CURRENT_DIT",o="ADD_FILE",s="SET_POPUP_DISPLAY",l="PUSH_TO_STACK",u="DELETE_FILE",d="SET_VIEW",j={files:[],currentDir:null,popupDisplay:"none",dirStack:[],view:"list"};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(c.a)(Object(c.a)({},e),{},{files:t.payload});case i:return Object(c.a)(Object(c.a)({},e),{},{currentDir:t.payload});case o:return Object(c.a)(Object(c.a)({},e),{},{files:[].concat(Object(a.a)(e.files),[t.payload])});case s:return Object(c.a)(Object(c.a)({},e),{},{popupDisplay:t.payload});case u:return Object(c.a)(Object(c.a)({},e),{},{files:Object(a.a)(e.files.filter((function(e){return e._id!==t.payload})))});case l:return Object(c.a)(Object(c.a)({},e),{},{dirStack:[].concat(Object(a.a)(e.dirStack),[t.payload])});case d:return Object(c.a)(Object(c.a)({},e),{},{view:t.payload});default:return e}};var b=function(e){return{type:r,payload:e}},p=function(e){return{type:i,payload:e}},f=function(e){return{type:o,payload:e}},O=function(e){return{type:s,payload:e}},v=function(e){return{type:l,payload:e}},h=function(e){return{type:u,payload:e}},x=function(e){return{type:d,payload:e}}},12:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return h}));var a=n(5),c=n.n(a),r=n(15),i=n(16),o=n.n(i),s=n(10),l=n(19),u=n(20),d=n(9);function j(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(a){var r,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Object(u.c)()),n.prev=1,r="".concat(d.a,"api/files"),e&&(r="".concat(d.a,"api/files?parent=").concat(e)),t&&(r="".concat(d.a,"api/files?sort=").concat(t)),t&&e&&(r="".concat(d.a,"api/files?sort=").concat(t,"&parent=").concat(e)),n.next=8,o.a.get(r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 8:i=n.sent,a(Object(s.f)(i.data)),console.log(i.data),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(" eroro in getFiles",n.t0);case 16:return n.prev=16,a(Object(u.b)()),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])})));return function(e){return n.apply(this,arguments)}}()}function b(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.post("".concat(d.a,"api/files"),{name:t,parent:e,type:"dir"},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:r=n.sent,a(Object(s.a)(r.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(" eroro in createDir",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}function p(t,n){return function(){var a=Object(r.a)(c.a.mark((function a(r){var i,u,j;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(i=new FormData).append("file",t),n&&i.append("parent",n),u={name:t.name,progress:0,id:Date.now()},r(Object(l.f)()),r(Object(l.a)(u)),a.next=9,o.a.post("".concat(d.a,"api/files/upload"),i,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},onUploadProgress:function(t){var n=t.lengthComputable?t.total:t.target.getResponseHeader("content-length")||t.target.getResponseHeader("x-decompressed-content-length");console.log("total",n),n&&(console.log(e),u.progress=Math.round(100*t.loaded/n),r(Object(l.b)(u)))}});case 9:j=a.sent,r(Object(s.a)(j.data)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(" eroro in uploadFile",a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}function f(e){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(c.a.mark((function e(t){var n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d.a,"api/files?id=").concat(t._id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:if(n=e.sent,e.prev=3,200!==n.status){e.next=15;break}return e.next=7,n.blob();case 7:a=e.sent,r=window.URL.createObjectURL(a),(i=document.createElement("a")).href=r,i.download=t.name,document.body.appendChild(i),i.click(),i.remove();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(" eroro in downloadFile",e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function v(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.delete("".concat(d.a,"api/files?id=").concat(e._id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return t.sent,t.next=6,n(Object(s.c)(e._id));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("eoror deleteFile",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function h(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var a,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=15;break}return t.prev=1,t.next=4,o.a.get("".concat(d.a,"api/files/search?search=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 4:a=t.sent,n(Object(s.f)(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message),n(Object(u.b)());case 12:return t.prev=12,n(Object(u.b)()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(e){return t.apply(this,arguments)}}()}}).call(this,n(36))},19:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return O}));var a=n(18),c=n(2),r="SHOWE_UPLOADER",i="HIDE_UPLOADER",o="ADD_UPLOAD_FILE",s="REMOVE_UPLOAD_FILE",l="CHANGE_UPLOAD_FILE",u={isVisible:!1,files:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(c.a)(Object(c.a)({},e),{},{isVisible:!0});case i:return Object(c.a)(Object(c.a)({},e),{},{isVisible:!1});case o:return Object(c.a)(Object(c.a)({},e),{},{files:[].concat(Object(a.a)(e.files),[t.payload])});case s:return Object(c.a)(Object(c.a)({},e),{},{files:Object(a.a)(e.files.filter((function(e){return e.id!=t.payload})))});case l:return Object(c.a)(Object(c.a)({},e),{},{files:Object(a.a)(e.files.map((function(e){return e.id===t.payload.id?Object(c.a)(Object(c.a)({},e),{},{progress:t.payload.progress}):Object(c.a)({},e)})))});default:return e}}var j=function(){return{type:r}},b=function(){return{type:i}},p=function(e){return{type:o,payload:e}},f=function(e){return{type:s,payload:e}},O=function(e){return{type:l,payload:e}}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(2),c="SHOWE_LOADER",r="HIDE_LOADER",i={isLoader:!1};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(a.a)(Object(a.a)({},e),{},{isLoader:!0});case r:return Object(a.a)(Object(a.a)({},e),{},{isLoader:!1});default:return e}}var s=function(){return{type:c}},l=function(){return{type:r}}},45:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(22),r=n.n(c),i=(n(54),n(55),n(56),n.p+"static/media/logo.58647268.svg"),o=n(24),s=n(3),l=n(2),u="SET_USER",d="LOGOUT",j={currentUser:{},isAuth:!1},b=function(e){return{type:u,payload:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.payload,isAuth:!0});case d:return localStorage.removeItem("token"),Object(l.a)(Object(l.a)({},e),{},{currentUser:{},isAuth:!1});default:return e}},f=n.p+"static/media/avatar.1af8adc2.svg",O=n(9),v=n(12),h=n(1),x=function(){var e=Object(s.c)((function(e){return e.user.isAuth})),t=Object(s.b)(),n=Object(s.c)((function(e){return e.user.currentUser})),a=Object(s.c)((function(e){return e.files.currentDir})),c=n.avatar&&"".concat(O.a+n.avatar)||f;return Object(h.jsx)("div",{className:"navbar",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("img",{src:i,alt:"",className:"navbar__logo"}),Object(h.jsx)("div",{className:"navbar__header",onClick:function(){t(Object(v.d)(a,"date")),window.location.href="/"},children:"mern cloud"}),!e&&Object(h.jsx)("div",{className:"navbar__login",children:Object(h.jsx)(o.b,{to:"/login",children:"\u0443\u0432\u0456\u0439\u0442\u0438"})}),e&&Object(h.jsx)("div",{className:"navbar__logout",onClick:function(){return t({type:d})},children:"\u0432\u0438\u0439\u0442\u0438 "}),e&&Object(h.jsx)(o.b,{to:"/profile",children:Object(h.jsx)("img",{className:"navbar__avatar",src:c,alt:""})}),!e&&Object(h.jsx)("div",{className:"navbar__registration",children:Object(h.jsx)(o.b,{to:"/registration",children:"\u0440\u0435\u0433\u0456\u0441\u0442\u0440\u0430\u0446\u0456\u044f"})})]})})},m=n(6),g=n(13),_=(n(81),n(82),function(e){var t=Object.assign({},e);return Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:t.type,placeholder:t.placeholder,value:t.value,onChange:function(e){t.setValue(e.target.value)}})})}),k=n(5),y=n.n(k),N=n(15),w=n(16),D=n.n(w),S=function(e,t){return function(){var n=Object(N.a)(y.a.mark((function n(a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.a.post("".concat(O.a,"api/auth/login"),{email:e,password:t});case 3:200===(c=n.sent).status?(a(b(c.data.user)),localStorage.setItem("token",c.data.token),console.log("response data from login ",c.data)):console.log("problem in login"),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0),localStorage.removeItem("token");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},E=function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(g.a)(r,2),o=i[0],l=i[1],u=Object(s.b)();return Object(h.jsxs)("div",{className:"registration",children:[Object(h.jsx)("div",{className:"registration__header",children:" \u0440\u0435\u0433\u0456\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),Object(h.jsx)(_,{value:n,setValue:c,type:"text",placeholder:"login  "}),Object(h.jsx)(_,{value:o,setValue:l,type:"password",placeholder:"password"}),Object(h.jsx)("button",{className:"registration__btn",onClick:function(){return u(function(e,t){return function(){var n=Object(N.a)(y.a.mark((function n(a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.a.post("".concat(O.a,"api/auth/registration"),{email:e,password:t});case 3:return c=n.sent,n.next=6,console.log(c);case 6:return n.next=8,console.log(c);case 8:if(200!==c.status){n.next=12;break}return n.next=11,a(S(e,t));case 11:console.log("registrotion file",c.data.message);case 12:n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),alert("error in createing user",n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()}(n,o))},children:"\u0443\u0432\u0456\u0439\u0442\u0438"})]})},C=(n(83),function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(g.a)(r,2),o=i[0],l=i[1],u=Object(s.b)();return Object(h.jsxs)("div",{className:"registration",children:[Object(h.jsx)("div",{className:"registration__header",children:" \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f"}),Object(h.jsx)(_,{value:n,setValue:c,type:"text",placeholder:"login  "}),Object(h.jsx)(_,{value:o,setValue:l,type:"password",placeholder:"password"}),Object(h.jsx)("button",{className:"registration__btn",onClick:function(){return u(S(n,o))},children:"\u0443\u0432\u0456\u0439\u0442\u0438"})]})}),I=n(18),A=(n(45),n(84),n.p+"static/media/dir.4593101f.svg"),L=n.p+"static/media/file.8e976cc0.svg",F=n(10),P=function(e){var t,n=e.file,a=Object(s.b)(),c=Object(s.c)((function(e){return e.files.currentDir})),r=Object(s.c)((function(e){return e.files.view}));function i(){"dir"===n.type&&(a(Object(F.d)(c)),a(Object(F.e)(n._id)))}function o(e){e.stopPropagation(),Object(v.c)(n)}function l(e){e.stopPropagation(),a(Object(v.b)(n))}return"list"===r?Object(h.jsxs)("div",{className:"file",onClick:function(){return i()},children:[Object(h.jsx)("img",{src:"dir"===n.type?A:L,alt:"",className:"file__img"}),Object(h.jsx)("div",{className:"file__name",children:n.name}),n.date&&Object(h.jsx)("div",{className:"file__date",children:n.date.slice(0,10)}),Object(h.jsx)("div",{className:"file__size",children:(t=n.size,t>1073741824?(t/1073741824).toFixed(1)+"Gb":t>1048576?(t/1048576).toFixed(1)+"Mg":t>1024?(t/1024).toFixed(1)+"Kb":t+"Bt")}),"dir"!==n.type&&Object(h.jsx)("button",{onClick:function(e){return o(e)},className:"file__btn file__download",children:" \u0441\u043a\u0430\u0447\u0430\u0442\u0438"}),Object(h.jsx)("button",{onClick:function(e){l(e)},className:"file__btn file__delete",children:" delete"})]}):"plate"===r?Object(h.jsxs)("div",{className:"file-plate",onClick:function(){return i()},children:[Object(h.jsx)("img",{src:"dir"===n.type?A:L,alt:"",className:"file-plate__img"}),Object(h.jsx)("div",{className:"file-plate__name",children:n.name}),"dir"!==n.type&&Object(h.jsx)("button",{onClick:function(e){return o(e)},className:"file-plate__btn file-plate__download",children:" \u0441\u043a\u0430\u0447\u0430\u0442\u0438"}),Object(h.jsx)("button",{onClick:function(e){l(e)},className:"file-plate__btn file-plate__delete",children:" delete"})]}):void 0},T=(n(85),n(90)),U=n(89),R=function(){var e=Object(s.c)((function(e){return e.files.files})),t=Object(s.c)((function(e){return e.files.view}));return"list"===t?Object(h.jsxs)("div",{className:"filelist",children:[Object(h.jsxs)("div",{className:"filelist__header",children:[Object(h.jsx)("div",{className:"filelist__name",children:" \u043d\u0430\u0437\u0432\u0430"}),Object(h.jsx)("div",{className:"filelist__date",children:"\u0434\u0430\u0442\u0430"}),Object(h.jsx)("div",{className:"filelist__size",children:"\u0440\u043e\u0437\u043c\u0456\u0440"})]}),Object(h.jsx)(T.a,{children:e.map((function(e){return Object(h.jsx)(U.a,{timeout:500,classNames:"file",exit:!1,children:Object(h.jsx)(P,{file:e})},e._id)}))})]}):"plate"===t?Object(h.jsx)("div",{className:"filePlate",children:e.map((function(e){return Object(h.jsx)(P,{file:e},e._id)}))}):void 0},z=function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),c=n[0],r=n[1],i=Object(s.c)((function(e){return e.files.popupDisplay})),o=Object(s.c)((function(e){return e.files.currentDir})),l=e.closeDirHandler,u=Object(s.b)();return Object(h.jsx)("div",{className:"popup",onClick:function(){l()},style:{display:i},children:Object(h.jsxs)("div",{className:"popup__content",onClick:function(e){return e.stopPropagation()},children:[Object(h.jsxs)("div",{className:"popup__header",children:[Object(h.jsx)("div",{className:"popup__title",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u043f\u043a\u0443"}),Object(h.jsx)("button",{className:"popup__close",onClick:function(){l()},children:"X"})]}),Object(h.jsx)(_,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438...",value:c,setValue:r}),Object(h.jsx)("button",{className:"popup__create",onClick:function(){return u(Object(v.a)(o,c)),r(""),void l()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})},B=n(19),V=function(e){var t=e.file,n=Object(s.b)();return Object(h.jsxs)("div",{className:"uploader-file",children:[Object(h.jsxs)("div",{className:"uploader-file__header",children:[Object(h.jsxs)("div",{className:"uploader-file__name",children:[" ",t.name]}),Object(h.jsx)("button",{className:"uploader-file__remove",onClick:function(){return n(Object(B.e)(t.id))},children:"X"})]}),Object(h.jsxs)("div",{className:"uploader-file__propress-bar",children:[Object(h.jsx)("div",{className:"uploader-file__upload-bar",style:{width:t.progress+"%"}}),Object(h.jsxs)("div",{className:"uploader-file__percent",children:[t.progress,"%"]})]})]})},H=(n(86),function(){var e=Object(s.c)((function(e){return e.upload.files})),t=Object(s.c)((function(e){return e.upload.isVisible})),n=Object(s.b)();return!0===t?Object(h.jsxs)("div",{className:"uploader",children:[Object(h.jsxs)("div",{className:"uploader__header",children:[Object(h.jsx)("div",{className:"uploader__title",children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}),Object(h.jsx)("button",{className:"uploader__close",onClick:function(){return n(Object(B.d)())},children:"X"})]}),e.map((function(e){return Object(h.jsx)(V,{file:e},e.id)}))]}):Object(h.jsx)("div",{})}),M=n(20),W=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.files.currentDir})),n=Object(s.c)((function(e){return e.files.dirStack})),c=Object(a.useState)(!1),r=Object(g.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)("date"),u=Object(g.a)(l,2),d=u[0],j=u[1],b=Object(s.c)((function(e){return e.utils.isLoader})),p=Object(a.useState)(""),f=Object(g.a)(p,2),O=f[0],x=f[1],m=Object(a.useState)(!1),_=Object(g.a)(m,2),k=_[0],y=_[1];function N(e){e.preventDefault(),e.stopPropagation(),o(!0)}function w(e){e.preventDefault(),e.stopPropagation(),o(!1)}return Object(a.useEffect)((function(){e(Object(v.d)(t,d))}),[t,d]),b?Object(h.jsx)("div",{className:"loader",children:Object(h.jsxs)("div",{className:"lds-ripple",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})}):i?Object(h.jsx)("div",{className:"drop-area",onDragEnter:N,onDragLeave:w,onDrop:function(n){n.preventDefault(),n.stopPropagation(),Object(I.a)(n.dataTransfer.files).forEach((function(n){return e(Object(v.f)(n,t))})),o(!1)},onDragOver:N,children:"\u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b\u0438 \u0441\u044e\u0434\u0438"}):Object(h.jsxs)("div",{className:"disk",onDragEnter:N,onDragLeave:w,onDragOver:N,children:[Object(h.jsxs)("div",{className:"disk__btns",children:[Object(h.jsx)("button",{className:"disk__back",onClick:function(){return function(){var t=n.pop();e(Object(F.e)(t))}()},children:" \u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u043d\u0430\u0437\u0430\u0434"}),Object(h.jsx)("button",{className:"disk__create",onClick:function(){e(Object(F.g)("flex"))},children:" \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u043f\u043a\u0443\u0442"}),Object(h.jsx)("div",{className:"disk__upload",children:Object(h.jsxs)("label",{htmlFor:"disk__upload-input",className:"disk__upload-label",children:[" \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0444\u0430\u0439\u043b",Object(h.jsx)("input",{multiple:!0,onChange:function(n){return function(n){Object(I.a)(n.target.files).forEach((function(n){return e(Object(v.f)(n,t))}))}(n)},type:"file",id:"disk__upload-input",className:"disk__upload-input"})]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("select",{className:"disk__select",onChange:function(e){return j(e.target.value)},value:d,children:[Object(h.jsx)("option",{value:"name",children:" \u043f\u043e \u0456\u043c\u0435\u043d\u0456"}),Object(h.jsx)("option",{value:"type",children:" \u043f\u043e \u0442\u0438\u043f\u0443"}),Object(h.jsx)("option",{value:"date",children:"\u043f\u043e \u0434\u0430\u0442\u0456"})]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"disk__plate",onClick:function(){return e(Object(F.h)("plate"))}}),Object(h.jsx)("button",{className:"disk__list",onClick:function(){return e(Object(F.h)("list"))}})]}),Object(h.jsx)("input",{className:"inputFilesSearch",type:"text",onChange:function(n){return function(n){x(n.target.value),n.target.focus(),!1!==k&&(x(n.target.value),clearTimeout(k)),""!==n.target.value?y(setTimeout((function(t){e(Object(v.e)(t)),e(Object(M.b)())}),200,n.target.value)):(console.log(n.target.value),e(Object(M.b)()),e(Object(v.d)(t,d)))}(n)},value:O,placeholder:"\u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443"})]}),Object(h.jsx)(R,{}),Object(h.jsx)(z,{closeDirHandler:function(){e(Object(F.g)("none"))}}),Object(h.jsx)(H,{})]})},G=function(){var e=Object(s.b)();function t(t){var n=t.target.files[0];e(function(e){return function(){var t=Object(N.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new FormData).append("file",e),t.next=5,D.a.post("".concat(O.a,"api/files/avatar"),a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 5:c=t.sent,n(b(c.data)),localStorage.setItem("token",c.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("error in upload avatar ",t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))}return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){return e(function(){var e=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.delete("".concat(O.a,"api/files/avatar"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n=e.sent,t(b(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("error in delete avatar ",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:"  \u0443\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440"}),Object(h.jsx)("input",{accept:"image/*",type:"file",placeholder:"\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0430\u0432\u0443",onChange:function(e){return t(e)}})]})};var X=function(){var e=Object(s.c)((function(e){return e.user.isAuth})),t=Object(s.b)();return Object(a.useEffect)((function(){t(function(){var e=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat(O.a,"api/auth/auth"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n=e.sent,t(b(n.data.user)),localStorage.setItem("token",n.data.token),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),localStorage.removeItem("token");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(h.jsx)("div",{children:Object(h.jsxs)(o.a,{basename:"/mern-client--page",children:[Object(h.jsx)(x,{}),Object(h.jsx)("div",{className:"wrap",children:e?Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{exact:!0,path:"/",component:W}),Object(h.jsx)(m.b,{exact:!0,path:"/profile",component:G}),Object(h.jsx)(m.a,{to:"/"})]}):Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/registration",component:E}),Object(h.jsx)(m.b,{path:"/login",component:C}),Object(h.jsx)(m.a,{to:"/login"})]})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},K=n(23),Y=n(47),q=n(48),Q=Object(K.combineReducers)({user:p,files:F.b,upload:B.c,utils:M.a}),Z=Object(K.createStore)(Q,Object(Y.composeWithDevTools)(Object(K.applyMiddleware)(q.a)));r.a.render(Object(h.jsx)(s.a,{store:Z,children:Object(h.jsx)(X,{})}),document.getElementById("root")),J()},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="https://mern-cloud-server.herokuapp.com/"}},[[87,1,2]]]);
//# sourceMappingURL=main.61a6818d.chunk.js.map